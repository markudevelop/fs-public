{"version":3,"file":"static/chunks/pages/redirect-6b051269bd673105.js","mappings":"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","sources":["webpack://_N_E/./node_modules/fetch-retry/dist/fetch-retry.umd.js","webpack://_N_E/?b378","webpack://_N_E/./node_modules/@mui/material/CircularProgress/circularProgressClasses.js","webpack://_N_E/./node_modules/@mui/material/CircularProgress/CircularProgress.js","webpack://_N_E/./pages/redirect.tsx","webpack://_N_E/./src/utils/navigateToSearchResults.ts","webpack://_N_E/./src/utils/ksort.ts","webpack://_N_E/./src/utils/generateSignature.ts","webpack://_N_E/./src/utils/search-helpers.ts","webpack://_N_E/./src/utils/time.ts","webpack://_N_E/./src/utils/retryConfig.ts","webpack://_N_E/./src/utils/trackEvent.ts"],"sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.fetchRetry = factory());\n}(this, (function () { 'use strict';\n\n  var fetchRetry = function (fetch, defaults) {\n    defaults = defaults || {};\n    if (typeof fetch !== 'function') {\n      throw new ArgumentError('fetch must be a function');\n    }\n\n    if (typeof defaults !== 'object') {\n      throw new ArgumentError('defaults must be an object');\n    }\n\n    if (defaults.retries !== undefined && !isPositiveInteger(defaults.retries)) {\n      throw new ArgumentError('retries must be a positive integer');\n    }\n\n    if (defaults.retryDelay !== undefined && !isPositiveInteger(defaults.retryDelay) && typeof defaults.retryDelay !== 'function') {\n      throw new ArgumentError('retryDelay must be a positive integer or a function returning a positive integer');\n    }\n\n    if (defaults.retryOn !== undefined && !Array.isArray(defaults.retryOn) && typeof defaults.retryOn !== 'function') {\n      throw new ArgumentError('retryOn property expects an array or function');\n    }\n\n    var baseDefaults = {\n      retries: 3,\n      retryDelay: 1000,\n      retryOn: [],\n    };\n\n    defaults = Object.assign(baseDefaults, defaults);\n\n    return function fetchRetry(input, init) {\n      var retries = defaults.retries;\n      var retryDelay = defaults.retryDelay;\n      var retryOn = defaults.retryOn;\n\n      if (init && init.retries !== undefined) {\n        if (isPositiveInteger(init.retries)) {\n          retries = init.retries;\n        } else {\n          throw new ArgumentError('retries must be a positive integer');\n        }\n      }\n\n      if (init && init.retryDelay !== undefined) {\n        if (isPositiveInteger(init.retryDelay) || (typeof init.retryDelay === 'function')) {\n          retryDelay = init.retryDelay;\n        } else {\n          throw new ArgumentError('retryDelay must be a positive integer or a function returning a positive integer');\n        }\n      }\n\n      if (init && init.retryOn) {\n        if (Array.isArray(init.retryOn) || (typeof init.retryOn === 'function')) {\n          retryOn = init.retryOn;\n        } else {\n          throw new ArgumentError('retryOn property expects an array or function');\n        }\n      }\n\n      // eslint-disable-next-line no-undef\n      return new Promise(function (resolve, reject) {\n        var wrappedFetch = function (attempt) {\n          var _input =\n            typeof Request !== 'undefined' && input instanceof Request\n              ? input.clone()\n              : input;\n          fetch(_input, init)\n            .then(function (response) {\n              if (Array.isArray(retryOn) && retryOn.indexOf(response.status) === -1) {\n                resolve(response);\n              } else if (typeof retryOn === 'function') {\n                try {\n                  // eslint-disable-next-line no-undef\n                  return Promise.resolve(retryOn(attempt, null, response))\n                    .then(function (retryOnResponse) {\n                      if(retryOnResponse) {\n                        retry(attempt, null, response);\n                      } else {\n                        resolve(response);\n                      }\n                    }).catch(reject);\n                } catch (error) {\n                  reject(error);\n                }\n              } else {\n                if (attempt < retries) {\n                  retry(attempt, null, response);\n                } else {\n                  resolve(response);\n                }\n              }\n            })\n            .catch(function (error) {\n              if (typeof retryOn === 'function') {\n                try {\n                  // eslint-disable-next-line no-undef\n                  Promise.resolve(retryOn(attempt, error, null))\n                    .then(function (retryOnResponse) {\n                      if(retryOnResponse) {\n                        retry(attempt, error, null);\n                      } else {\n                        reject(error);\n                      }\n                    })\n                    .catch(function(error) {\n                      reject(error);\n                    });\n                } catch(error) {\n                  reject(error);\n                }\n              } else if (attempt < retries) {\n                retry(attempt, error, null);\n              } else {\n                reject(error);\n              }\n            });\n        };\n\n        function retry(attempt, error, response) {\n          var delay = (typeof retryDelay === 'function') ?\n            retryDelay(attempt, error, response) : retryDelay;\n          setTimeout(function () {\n            wrappedFetch(++attempt);\n          }, delay);\n        }\n\n        wrappedFetch(0);\n      });\n    };\n  };\n\n  function isPositiveInteger(value) {\n    return Number.isInteger(value) && value >= 0;\n  }\n\n  function ArgumentError(message) {\n    this.name = 'ArgumentError';\n    this.message = message;\n  }\n\n  return fetchRetry;\n\n})));\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/redirect\",\n      function () {\n        return require(\"private-next-pages/redirect.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/redirect\"])\n      });\n    }\n  ","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCircularProgressUtilityClass(slot) {\n  return generateUtilityClass('MuiCircularProgress', slot);\n}\nconst circularProgressClasses = generateUtilityClasses('MuiCircularProgress', ['root', 'determinate', 'indeterminate', 'colorPrimary', 'colorSecondary', 'svg', 'circle', 'circleDeterminate', 'circleIndeterminate', 'circleDisableShrink']);\nexport default circularProgressClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"color\", \"disableShrink\", \"size\", \"style\", \"thickness\", \"value\", \"variant\"];\n\nlet _ = t => t,\n    _t,\n    _t2,\n    _t3,\n    _t4;\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { keyframes, css } from '@mui/system';\nimport capitalize from '../utils/capitalize';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport { getCircularProgressUtilityClass } from './circularProgressClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst SIZE = 44;\nconst circularRotateKeyframe = keyframes(_t || (_t = _`\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n`));\nconst circularDashKeyframe = keyframes(_t2 || (_t2 = _`\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n`));\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    variant,\n    color,\n    disableShrink\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, `color${capitalize(color)}`],\n    svg: ['svg'],\n    circle: ['circle', `circle${capitalize(variant)}`, disableShrink && 'circleDisableShrink']\n  };\n  return composeClasses(slots, getCircularProgressUtilityClass, classes);\n};\n\nconst CircularProgressRoot = styled('span', {\n  name: 'MuiCircularProgress',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.variant], styles[`color${capitalize(ownerState.color)}`]];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  display: 'inline-block'\n}, ownerState.variant === 'determinate' && {\n  transition: theme.transitions.create('transform')\n}, ownerState.color !== 'inherit' && {\n  color: theme.palette[ownerState.color].main\n}), ({\n  ownerState\n}) => ownerState.variant === 'indeterminate' && css(_t3 || (_t3 = _`\n      animation: ${0} 1.4s linear infinite;\n    `), circularRotateKeyframe));\nconst CircularProgressSVG = styled('svg', {\n  name: 'MuiCircularProgress',\n  slot: 'Svg',\n  overridesResolver: (props, styles) => styles.svg\n})({\n  display: 'block' // Keeps the progress centered\n\n});\nconst CircularProgressCircle = styled('circle', {\n  name: 'MuiCircularProgress',\n  slot: 'Circle',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.circle, styles[`circle${capitalize(ownerState.variant)}`], ownerState.disableShrink && styles.circleDisableShrink];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  stroke: 'currentColor'\n}, ownerState.variant === 'determinate' && {\n  transition: theme.transitions.create('stroke-dashoffset')\n}, ownerState.variant === 'indeterminate' && {\n  // Some default value that looks fine waiting for the animation to kicks in.\n  strokeDasharray: '80px, 200px',\n  strokeDashoffset: 0 // Add the unit to fix a Edge 16 and below bug.\n\n}), ({\n  ownerState\n}) => ownerState.variant === 'indeterminate' && !ownerState.disableShrink && css(_t4 || (_t4 = _`\n      animation: ${0} 1.4s ease-in-out infinite;\n    `), circularDashKeyframe));\n/**\n * ## ARIA\n *\n * If the progress bar is describing the loading progress of a particular region of a page,\n * you should use `aria-describedby` to point to the progress bar, and set the `aria-busy`\n * attribute to `true` on that region until it has finished loading.\n */\n\nconst CircularProgress = /*#__PURE__*/React.forwardRef(function CircularProgress(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCircularProgress'\n  });\n\n  const {\n    className,\n    color = 'primary',\n    disableShrink = false,\n    size = 40,\n    style,\n    thickness = 3.6,\n    value = 0,\n    variant = 'indeterminate'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    color,\n    disableShrink,\n    size,\n    thickness,\n    value,\n    variant\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const circleStyle = {};\n  const rootStyle = {};\n  const rootProps = {};\n\n  if (variant === 'determinate') {\n    const circumference = 2 * Math.PI * ((SIZE - thickness) / 2);\n    circleStyle.strokeDasharray = circumference.toFixed(3);\n    rootProps['aria-valuenow'] = Math.round(value);\n    circleStyle.strokeDashoffset = `${((100 - value) / 100 * circumference).toFixed(3)}px`;\n    rootStyle.transform = 'rotate(-90deg)';\n  }\n\n  return /*#__PURE__*/_jsx(CircularProgressRoot, _extends({\n    className: clsx(classes.root, className),\n    style: _extends({\n      width: size,\n      height: size\n    }, rootStyle, style),\n    ownerState: ownerState,\n    ref: ref,\n    role: \"progressbar\"\n  }, rootProps, other, {\n    children: /*#__PURE__*/_jsx(CircularProgressSVG, {\n      className: classes.svg,\n      ownerState: ownerState,\n      viewBox: `${SIZE / 2} ${SIZE / 2} ${SIZE} ${SIZE}`,\n      children: /*#__PURE__*/_jsx(CircularProgressCircle, {\n        className: classes.circle,\n        style: circleStyle,\n        ownerState: ownerState,\n        cx: SIZE,\n        cy: SIZE,\n        r: (SIZE - thickness) / 2,\n        fill: \"none\",\n        strokeWidth: thickness\n      })\n    })\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CircularProgress.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   * @default 'primary'\n   */\n  color: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['inherit', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n\n  /**\n   * If `true`, the shrink animation is disabled.\n   * This only works if variant is `indeterminate`.\n   * @default false\n   */\n  disableShrink: chainPropTypes(PropTypes.bool, props => {\n    if (props.disableShrink && props.variant && props.variant !== 'indeterminate') {\n      return new Error('MUI: You have provided the `disableShrink` prop ' + 'with a variant other than `indeterminate`. This will have no effect.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * The size of the component.\n   * If using a number, the pixel unit is assumed.\n   * If using a string, you need to provide the CSS unit, e.g '3rem'.\n   * @default 40\n   */\n  size: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The thickness of the circle.\n   * @default 3.6\n   */\n  thickness: PropTypes.number,\n\n  /**\n   * The value of the progress indicator for the determinate variant.\n   * Value between 0 and 100.\n   * @default 0\n   */\n  value: PropTypes.number,\n\n  /**\n   * The variant to use.\n   * Use indeterminate when there is no progress value.\n   * @default 'indeterminate'\n   */\n  variant: PropTypes.oneOf(['determinate', 'indeterminate'])\n} : void 0;\nexport default CircularProgress;","import React, { useEffect, useState, useMemo, useRef } from \"react\";\nimport type { NextPage, GetStaticPropsContext } from \"next\";\nimport Box from \"@mui/material/Box\";\nimport Head from \"next/head\";\nimport { useTranslations } from \"next-intl\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport { useRouter } from \"next/router\";\nimport Paper from \"@mui/material/Paper\";\nimport fetchWithRetry from \"fetch-retry\";\nimport { captureException } from \"@sentry/nextjs\";\n\nimport { retryConfig, trackEvent } from \"../src/utils\";\n\nconst Redirect: NextPage = () => {\n  const t = useTranslations();\n  const { query }: any = useRouter();\n  const formRef = useRef<any>();\n\n  const [showPixelImage, setShowPixelImage] = useState(false);\n  const [savedResponse, setSavedResponse] = useState<any>();\n\n  const onBuyResponse = (res: any) => {\n    if (res.method === \"GET\") {\n      window.location.replace(res.url);\n    } else if (res.method === \"POST\") {\n      setSavedResponse(res);\n      setShowPixelImage(true);\n    } else {\n      throw new Error(\"Not found method post\" + JSON.stringify(res));\n    }\n  };\n\n  useEffect(() => {\n    if (query?.searchId && query?.termId) {\n      trackEvent({\n        action: \"redirect\",\n        label: `${query.searchId}_${query.termId}`,\n      });\n      fetchWithRetry(fetch)(\n        `https://apiv2.flightscanner.com/flight-searches/v2/${query.searchId}/clicks/${query.termId}`,\n        {\n          ...retryConfig,\n        }\n      )\n        .then((res) => res.json())\n        .then((res) => {\n          onBuyResponse(res);\n        })\n        .catch((error) => {\n          if (error?.name !== \"AbortError\") {\n            captureException(error);\n          }\n        });\n    }\n  }, [query]);\n\n  const getPixelImage = useMemo(() => {\n    if (savedResponse) {\n      return `//yasen.aviasales.ru/adaptors/pixel_click.png?click_id=${savedResponse.click_id}&gate_id=${savedResponse.gate_id}`;\n    }\n  }, [savedResponse]);\n\n  const onPixelLoaded = () => {\n    formRef.current.submit();\n  };\n\n  return (\n    <>\n      <Head>\n        <title>{t(\"seo-redirect-page-title\")}</title>\n      </Head>\n      <Box sx={{ height: \"100%\" }}>\n        <style global jsx>{`\n          html,\n          body,\n          body > div:first-child,\n          div#__next,\n          div#__next > div {\n            height: 100%;\n          }\n        `}</style>\n        <Box\n          sx={{ display: \"flex\", height: \"100%\", alignItems: \"center\", m: 1 }}\n        >\n          {showPixelImage && savedResponse && (\n            <>\n              <img\n                width=\"0\"\n                height=\"0\"\n                id=\"pixel\"\n                src={getPixelImage}\n                onLoad={onPixelLoaded}\n                alt=\"\"\n              />\n              <form\n                id=\"redirect_params_form\"\n                method=\"POST\"\n                action={savedResponse.url}\n                ref={formRef}\n              >\n                {Object.entries(savedResponse.params).map(([key, value]) => {\n                  return (\n                    <input\n                      key={key}\n                      type=\"hidden\"\n                      name={key}\n                      value={String(value)}\n                    />\n                  );\n                })}\n              </form>\n            </>\n          )}\n          <Paper\n            sx={{\n              p: 2,\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              flexDirection: \"column\",\n              margin: \"0 auto\",\n            }}\n          >\n            <CircularProgress />\n            <h1>\n              {t(\"redirect-page-title\")} <strong>{query?.label}</strong>\n            </h1>\n            <p>{t(\"redirect-page-thank-you\")}</p>\n            <p>Flightscanner.com</p>\n          </Paper>\n        </Box>\n      </Box>\n    </>\n  );\n};\n\nexport async function getStaticProps({ locale }: GetStaticPropsContext) {\n  return {\n    props: {\n      // You can get the messages from anywhere you like. The recommended\n      // pattern is to put them in JSON files separated by language and read\n      // the desired one based on the `locale` received from Next.js.\n      messages: (await import(`../messages/index/${locale || 'en'}.json`)).default,\n    },\n  };\n}\n\nexport default Redirect;\n","export const navigateToSearchResults = ({\n  replaceUrl,\n  searchState,\n  push,\n  replace,\n  t,\n  query\n}: any) => {\n  const {\n    departureDate,\n    returnDate,\n    tripClass = { id: \"Y\" },\n    adults = 1,\n    children = 0,\n    infants = 0,\n    redirectToBooking,\n    from,\n    to,\n  } = searchState;\n  const departure = departureDate\n    ? departureDate?.toISOString().split(\"T\")[0]\n    : null;\n  const dateReturn = returnDate\n    ? returnDate?.toISOString().split(\"T\")[0]\n    : \"none\";\n\n  const queryParams = {\n    tripClass: tripClass?.id,\n    adults,\n    children,\n    infants,\n    redirectToBooking,\n  } as any;\n\n  const routeParams = [\n    t(\"routes-search\"),\n    `${from?.code}:${from?.city_name}:${from?.country_name}`,\n    to?.country_name ? `${to?.code}:${to?.city_name}:${to?.country_name}` : `${to?.code}:${to?.city_name}`,\n    departure,\n  ];\n\n  if (dateReturn) {\n    routeParams.push(dateReturn);\n  }\n\n  const newRoutePath = \"/\" + routeParams.join(\"/\");\n  const newQueryPath = Object.keys(queryParams)\n    .map((key) => key + \"=\" + queryParams[key])\n    .join(\"&\");\n\n  const gclid = query?.gclid ? `&gclid=${query.gclid}` : '';\n  const newUrl = `${newRoutePath}?${newQueryPath}${gclid}`;\n\n  if (redirectToBooking && !replaceUrl) {\n    window.open(newUrl);\n    if (returnDate) {\n      window.location.replace(\n        `https://tp.media/r?marker=56123&trs=15329&p=2076&u=https%3A%2F%2Fwww.booking.com%2Fsearchresults.en-gb.html%3Fss%3D${to.city_name}%2C+${to.country_name}%26checkin%3D${departure}%26checkout%3D${dateReturn}`\n      );\n    } else {\n      window.location.replace(\n        `https://tp.media/r?marker=56123&trs=15329&p=2076&u=https%3A%2F%2Fwww.booking.com%2Fsearchresults.en-gb.html%3Fss%3D${to.city_name}%2C+${to.country_name}%26checkin%3D${departure}`\n      );\n    }\n  } else {\n    replaceUrl ? replace(newUrl) : push(newUrl);\n  }\n};\n","export function ksort<T>(object: any): T {\n    const keys = Object.keys(object).sort();\n    const sortedObj = {} as any;\n\n    for (let i in keys) {\n        sortedObj[keys[i as any] as any] = object[keys[i as any] as any] as any;\n    }\n\n    return sortedObj as T;\n};\n","import md5 from 'blueimp-md5';\nimport { ksort } from './ksort';\n\nexport const generateSignature = (\n  flightSearchRequest: any,\n  apiKey: string,\n  additionalMarker?: string\n) => {\n  if (additionalMarker) {\n    flightSearchRequest.marker = `${flightSearchRequest.marker}.${additionalMarker}`;\n  }\n\n  const sortedFlightSearchRequest: any = ksort(flightSearchRequest);\n\n  sortedFlightSearchRequest.passengers = ksort(flightSearchRequest.passengers);\n\n  flightSearchRequest.segments.forEach((segment: any, index: any) => {\n    const sortedSegment = ksort(segment) as any;\n    sortedFlightSearchRequest.segments[index] =\n      Object.values(sortedSegment).join(\":\");\n  });\n\n  sortedFlightSearchRequest.passengers = Object.values(\n    flightSearchRequest.passengers\n  ).join(\":\");\n  sortedFlightSearchRequest.segments = Object.values(\n    sortedFlightSearchRequest.segments\n  ).join(\":\");\n\n  const signature = apiKey\n    ? [apiKey].concat(Object.values(sortedFlightSearchRequest)).join(\":\")\n    : Object.values(sortedFlightSearchRequest).join(\":\");\n\n  return md5(signature);\n};\n","export enum EFlightSort {\n  BEST,\n  CHEAP,\n  QUICK,\n}\n\nexport interface IFlightsFilters {\n  stop: EStopsFilterType;\n  price: number[];\n  duration: number[];\n  times: number[][][];\n  airlines: string[];\n  gates: string[];\n}\n\nexport enum EStopsFilterType {\n  ANY,\n  NON_STOP,\n  ONE_STOP,\n  TWO_STOP,\n}\n\ninterface IFlightSearchResultsProposalTerm {\n  currency: string;\n  flights_baggage: any;\n  flights_handbags: any;\n  price: number;\n  unified_price: number;\n  url: number;\n}\n\nexport interface IFlightSearchResultsProposal {\n  carriers: string[];\n  flight_weight: number;\n  is_direct: boolean;\n  is_popular: boolean;\n  max_stop_duration: number;\n  max_stops: number;\n  min_stop_duration: number;\n  rating: number;\n  rating_summary: any;\n  segment: any;\n  segment_durations: number[];\n  segments_airports: any;\n  segments_time: any;\n  sign: string;\n  stops_airports: string[];\n  terms: IFlightSearchResultsProposalTerms;\n  total_duration: number;\n  validating_carrier: string;\n  xterms: any;\n}\n\ninterface IFlightSearchResultsProposalTerms {\n  [key: string]: IFlightSearchResultsProposalTerm;\n}\n\nconst minBy = require(\"lodash.minby\");\nconst maxBy = require(\"lodash.maxby\");\n\n/**\n * Sorting\n */\nexport interface ISortedFlights {\n  [key: number]: any;\n}\n\nconst sortNumbers = (a: any, b: any) => a - b;\n\nexport const sortFlightTerms = (terms: IFlightSearchResultsProposalTerms) => {\n  return Object.values(terms).sort((flightA, flightB) => {\n    return flightA.unified_price - flightB.unified_price;\n  });\n};\n\nexport const sortFlights = (\n  flights: IFlightSearchResultsProposal[]\n): ISortedFlights => {\n  const cheapFlights = flights.slice().sort((flightA, flightB) => {\n    const sortedTermsA = sortFlightTerms(flightA.terms);\n    const sortedTermsB = sortFlightTerms(flightB.terms);\n    return sortNumbers(\n      sortedTermsA[sortedTermsA.length - 1].unified_price,\n      sortedTermsB[sortedTermsB.length - 1].unified_price\n    );\n  });\n  const quickFlights = flights.slice().sort((flightA, flightB) => {\n    return sortNumbers(flightA.total_duration, flightB.total_duration);\n  });\n  const bestFlights = assignTempTicketRatingAndSort(\n    flights.slice(),\n    cheapFlights,\n    quickFlights\n  );\n\n  return {\n    [EFlightSort.BEST]: bestFlights,\n    [EFlightSort.QUICK]: quickFlights,\n    [EFlightSort.CHEAP]: cheapFlights,\n  };\n};\n\n// Give every ticket a rating based on total duration + duration of flight\n// Which basically gives it average of duration and cheapest\n// So you avoid very cheap tickets but crazy huge durations\nexport const assignTempTicketRatingAndSort = (\n  flights: IFlightSearchResultsProposal[],\n  cheapFlights: IFlightSearchResultsProposal[],\n  quickFlights: IFlightSearchResultsProposal[]\n) => {\n  return flights.sort((flightA, flightB) => {\n    const sortedTermsA = sortFlightTerms(flightA.terms);\n    const sortedTermsB = sortFlightTerms(flightB.terms);\n\n    const cheapFlightsSortedTerms = sortFlightTerms(cheapFlights[0].terms);\n\n    return sortNumbers(\n      (flightA.total_duration / quickFlights[0].total_duration) *\n        (sortedTermsA[0].unified_price /\n          cheapFlightsSortedTerms[0].unified_price),\n      (flightB.total_duration / quickFlights[0].total_duration) *\n        (sortedTermsB[0].unified_price /\n          cheapFlightsSortedTerms[0].unified_price)\n    );\n  });\n};\n\n/**\n * Filter flights\n * @param flights\n * @param filters\n */\nexport const filterFlights = (\n  flights: IFlightSearchResultsProposal[],\n  filters: IFlightsFilters\n) => {\n  // TODO if filters object is same as default dont filter - performance\n  return flights.slice().filter((flight: IFlightSearchResultsProposal) => {\n    // If we have 0 proposals ignore it for now\n    const hasTerms = Object.keys(flight.terms).length > 0;\n\n    if (!hasTerms) {\n      return false;\n    }\n\n    if (filters.stop !== EStopsFilterType.ANY) {\n      const isStopFine = filterFlightsStop(flight, Number(filters.stop));\n\n      if (!isStopFine) {\n        return false;\n      }\n    }\n\n    if (filters.duration[0] !== 0 || filters.duration[1] !== 0) {\n      // TODO if duration is part of min or max ignore filter or default\n      const isDurationFine = filterFlightsDuration(\n        flight,\n        filters.duration[0],\n        filters.duration[1]\n      );\n\n      if (!isDurationFine) {\n        return false;\n      }\n    }\n\n    if (filters.price[0] !== 0 || filters.price[1] !== 0) {\n      // TODO if price is equal to min or max ignore filter ordefault\n      const isPriceFine = filterFlightsPrice(\n        flight,\n        filters.price[0],\n        filters.price[1]\n      );\n\n      if (!isPriceFine) {\n        return false;\n      }\n    }\n\n    // // TODO if times are equal to min or max ignore filter\n    // const isTimesFine = filterFlightsTime(flight, filters.times);\n\n    // if (!isTimesFine) {\n    //   return false;\n    // }\n\n    // // TODO if airlines length equals to initial we allow all?\n    // const isAirlineFine = filterFlightsAirline(flight, filters.airlines);\n\n    // if (!isAirlineFine) {\n    //   return false;\n    // }\n    // // TODO if gates length equals to initial we allow all?\n    // const isGatesFine = filterFlightsGates(flight, filters.gates);\n\n    // if (!isGatesFine) {\n    //   return false;\n    // }\n\n    return true;\n  });\n};\n\n/**\n *\n * @param flight\n * @param stop\n */\nconst filterFlightsStop = (\n  flight: IFlightSearchResultsProposal,\n  stop: EStopsFilterType\n) => {\n  switch (stop) {\n    case EStopsFilterType.NON_STOP:\n      return flight.max_stops === 0;\n    case EStopsFilterType.ONE_STOP:\n      return flight.max_stops <= 1;\n    case EStopsFilterType.TWO_STOP:\n      return flight.max_stops <= 2;\n    default:\n      return true;\n  }\n};\n\nconst filterFlightsDuration = (\n  flight: IFlightSearchResultsProposal,\n  minDuration: number,\n  maxDuration: number\n) => {\n  if (!minDuration || !maxDuration) {\n    return true;\n  }\n\n  return !!flight.segment_durations.filter(\n    (duration) => duration >= minDuration && duration <= maxDuration\n  ).length;\n};\n\nconst filterFlightsPrice = (\n  flight: IFlightSearchResultsProposal,\n  minPrice: number,\n  maxPrice: number\n) => {\n  if (!minPrice || !maxPrice) {\n    return true;\n  } else {\n    const terms = Object.values(flight.terms);\n    const minTermsPrice = minBy(terms, \"unified_price\");\n    const maxTermsPrice = maxBy(terms, \"unified_price\");\n    return (\n      minTermsPrice.unified_price >= minPrice &&\n      maxTermsPrice.unified_price <= maxPrice\n    );\n  }\n};\n\nconst filterFlightsTime = (\n  flight: IFlightSearchResultsProposal,\n  times: any\n) => {\n  // TODO\n  return true;\n};\n\nconst filterFlightsAirline = (\n  flight: IFlightSearchResultsProposal,\n  airlines: any\n) => {\n  if (airlines.length) {\n    // Airlines in array are selected: false\n    const hasAirlineFromFilter = flight.carriers.find((airlineCode) =>\n      airlines.find((notWantedAirline: any) => notWantedAirline === airlineCode)\n    );\n\n    if (hasAirlineFromFilter) {\n      return false;\n    } else {\n      return true;\n    }\n  } else {\n    return true;\n  }\n};\n\n// TODO NOT READY\nconst filterFlightsGates = (\n  flight: IFlightSearchResultsProposal,\n  gates: any\n) => {\n  // make a list of all filtered agents and if its more than filter show\n  // aka 3 agents total 5 agents in flight tickets = 2 unique so its ok to show\n  if (gates.length) {\n    let isValidGates = true;\n    const flightTermsKeys = Object.keys(flight.terms);\n    // if flight terms has term that is not filtered return true\n    if (gates.length >= flightTermsKeys.length) {\n      const hasUniqueTerm = flightTermsKeys.some((key) => {\n        const value = flight.terms[key];\n        // true if we have not found the term in filtered\n        return !gates.find((filteredGate: any) => filteredGate === value);\n      });\n\n      if (!hasUniqueTerm) {\n        isValidGates = false;\n      }\n\n      return isValidGates;\n    } else {\n      return true;\n    }\n  } else {\n    return true;\n  }\n};\n","function padTime(t: any) {\n  return t < 10 ? \"0\" + t : t;\n}\n\nexport const secondsToTime = (seconds: number) => {\n  const hours = Math.floor(seconds / 3600);\n  const minutes = Math.floor((seconds % 3600) / 60);\n  return \"%hours%h %minutes%m\"\n    .replace(/%hours%/, String(hours))\n    .replace(/%minutes%/, padTime(minutes));\n};\n","export const retryConfig = {\n  retryDelay: function (attempt: number) {\n    return Math.pow(2, attempt) * 1000; // 1000, 2000, 4000\n  },\n  retryOn: function (\n    attempt: number,\n    error: Error | null,\n    response: Response | null\n  ) {\n    if (attempt > 3) return false;\n\n    if (error?.name === \"AbortError\") return false;\n    // retry on any network error, or 4xx or 5xx status codes\n    if (error !== null || (response && response.status >= 400)) {\n      return true;\n    }\n\n    return false;\n  },\n};\n","declare global {\n  interface Window {\n    gtag: any;\n  }\n}\n\n// <action>\tstring\t\tThe value that will appear as the event action in Google Analytics Event reports.\n// <category>\tstring\t\"general\"\tThe category of the event.\n// <label>\tstring\t\tThe label of the event.\n// <value>\tnumber\t\tA non-negative integer that will appear as the event value.\n\n// Category can be type e.g. button/link\n// Action can be the name of the fn or CTA\n// Label can be the specific change\n\ntype trarckEvent = {\n  action: string;\n  category?: string;\n  label?: string;\n  value?: number;\n};\n\nexport const trackEvent = ({\n  action,\n  category,\n  label,\n  value,\n}: trarckEvent) => {\n  window &&\n    window.gtag &&\n    window.gtag(\"event\", action, {\n      event_category: category,\n      event_label: label,\n      value: value,\n    });\n};\n"],"names":["module","exports","isPositiveInteger","value","Number","isInteger","ArgumentError","message","this","name","fetch","defaults","undefined","retries","retryDelay","retryOn","Array","isArray","baseDefaults","Object","assign","input","init","Promise","resolve","reject","wrappedFetch","attempt","_input","Request","clone","then","response","indexOf","status","retryOnResponse","retry","catch","error","delay","setTimeout","factory","window","__NEXT_P","push","getCircularProgressUtilityClass","slot","generateUtilityClass","_excluded","_t","_t2","_t3","_t4","_","t","SIZE","circularRotateKeyframe","circularDashKeyframe","CircularProgressRoot","styled","overridesResolver","props","styles","ownerState","root","variant","capitalize","color","theme","display","transition","transitions","create","palette","main","CircularProgressSVG","svg","CircularProgressCircle","circle","disableShrink","circleDisableShrink","stroke","strokeDasharray","strokeDashoffset","CircularProgress","inProps","ref","useThemeProps","className","size","style","thickness","other","classes","slots","composeClasses","useUtilityClasses","circleStyle","rootStyle","rootProps","circumference","Math","PI","toFixed","round","transform","width","height","role","children","viewBox","cx","cy","r","fill","strokeWidth","useTranslations","query","useRouter","formRef","useRef","useState","showPixelImage","setShowPixelImage","savedResponse","setSavedResponse","useEffect","searchId","termId","trackEvent","action","label","fetchWithRetry","retryConfig","res","json","method","location","replace","url","Error","JSON","stringify","onBuyResponse","captureException","getPixelImage","useMemo","click_id","gate_id","Head","title","Box","sx","alignItems","m","img","id","src","onLoad","current","submit","alt","form","entries","params","map","key","type","String","Paper","p","justifyContent","flexDirection","margin","h1","strong","navigateToSearchResults","replaceUrl","searchState","departureDate","returnDate","tripClass","adults","infants","redirectToBooking","from","to","departure","toISOString","split","dateReturn","queryParams","routeParams","code","city_name","country_name","newRoutePath","join","newQueryPath","keys","gclid","newUrl","open","ksort","object","sort","sortedObj","i","generateSignature","flightSearchRequest","apiKey","additionalMarker","marker","sortedFlightSearchRequest","passengers","segments","forEach","segment","index","sortedSegment","values","signature","concat","md5","EFlightSort","BEST","CHEAP","QUICK","EStopsFilterType","ANY","NON_STOP","ONE_STOP","TWO_STOP","minBy","require","maxBy","sortNumbers","a","b","sortFlightTerms","terms","flightA","flightB","unified_price","sortFlights","flights","cheapFlights","slice","sortedTermsA","sortedTermsB","length","quickFlights","total_duration","bestFlights","assignTempTicketRatingAndSort","cheapFlightsSortedTerms","filterFlights","filters","filter","flight","stop","filterFlightsStop","duration","filterFlightsDuration","price","filterFlightsPrice","max_stops","minDuration","maxDuration","segment_durations","minPrice","maxPrice","minTermsPrice","maxTermsPrice","secondsToTime","seconds","hours","floor","minutes","pow","category","gtag","event_category","event_label"],"sourceRoot":""}