{"version":3,"file":"static/chunks/pages/cheap-flights/[cheapFlightFrom]-241f424f23941c79.js","mappings":"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","sources":["webpack://_N_E/?f908","webpack://_N_E/./pages/cheap-flights/[cheapFlightFrom]/index.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/cheap-flights/[cheapFlightFrom]\",\n      function () {\n        return require(\"private-next-pages/cheap-flights/[cheapFlightFrom]/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/cheap-flights/[cheapFlightFrom]\"])\n      });\n    }\n  ","import type { NextPage, GetStaticPropsContext } from \"next\";\nimport Container from \"@mui/material/Container\";\nimport Box from \"@mui/material/Box\";\nimport { useTranslations } from \"next-intl\";\n\nimport ResponsiveAppBar from \"../../../src/components/ResponsiveAppBar\";\nimport React, { useEffect, useMemo } from \"react\";\nimport Head from \"next/head\";\nimport Paper from \"@mui/material/Paper\";\n\nimport { useTheme } from \"../../../src/theme\";\nimport SearchForm from \"../../../src/components/SearchForm\";\nimport { Footer } from \"../../../src/components/Footer\";\nimport Link from \"../../../src/components/Link\";\n\nimport { Typography } from \"@mui/material\";\nimport { useRouter } from \"next/router\";\n\nconst perPage = 250;\n\nconst CheapFlight: NextPage = ({\n  theFrom,\n  theTo,\n  theFromLeftOver,\n  theToLeftOver,\n  totalPages,\n}: any) => {\n  const theme = useTheme();\n  const t = useTranslations();\n  const { locale, query } = useRouter();\n\n  const page = useMemo(() => Number(query.cheapFlightFrom || 0), [query]);\n  const hasMore = useMemo(\n    () => page < Math.floor(totalPages / perPage),\n    [page, totalPages]\n  );\n\n  return (\n    <Box\n      sx={{\n        backgroundColor: theme.palette.mode === \"light\" ? \"#F3F6F9\" : \"inherit\",\n      }}\n    >\n      <Head>\n        <title>{t(\"cheap-flights\")} | Flightscanner</title>\n      </Head>\n      <ResponsiveAppBar />\n      <Paper\n        variant={theme.palette.mode === \"light\" ? \"outlined\" : \"elevation\"}\n        sx={{ pb: 2, borderLeft: \"none\", borderRight: \"none\" }}\n        square\n      >\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          sx={{ textAlign: \"center\", pt: 4 }}\n        >\n          {t(\"cheap-flights\")}\n        </Typography>\n        <SearchForm maxWidth=\"lg\" showBooking={false} />\n      </Paper>\n\n      <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n        <Paper sx={{ p: 1 }}>\n          <Box\n            component=\"ul\"\n            sx={{ display: \"flex\", flexWrap: \"wrap\", listStyle: \"none\", p: 0 }}\n          >\n            {theTo?.map((to: any, index: any) => {\n              const slug =\n                to.combined_slug[locale as string] || to.combined_slug[\"en\"];\n              const name =\n                to.name_translations[locale as string] ||\n                to.name_translations[\"en\"];\n              return (\n                <Box\n                  key={index}\n                  component=\"li\"\n                  sx={{ flex: { xs: \"100%\", sm: \"50%\", md: \"0 0 33%\" } }}\n                >\n                  <Link\n                    sx={{ display: \"block\" }}\n                    // href={`/${t(\"routes-city\")}/${slug}`}\n                    href={`/${t(\"routes-cheap-flights\")}/${\n                      theFrom.combined_slug[locale as string] ||\n                      theFrom.combined_slug[\"en\"]\n                    }/${slug}/`}\n                    underline=\"hover\"\n                    color=\"inherit\"\n                  >\n                    {t(\"cheap-flights\")} {t(\"suggestions-from\")}{\" \"}\n                    {theFrom.name_translations[locale as string] ||\n                      theFrom.name_translations[\"en\"]}{\" \"}\n                    {t(\"flights-time-filter-to\")} {name}\n                  </Link>\n                </Box>\n              );\n            })}\n\n            {theToLeftOver?.map((to: any, index: any) => {\n              const slug =\n                to.combined_slug[locale as string] || to.combined_slug[\"en\"];\n              const name =\n                to.name_translations[locale as string] ||\n                to.name_translations[\"en\"];\n              return (\n                <Box\n                  key={index}\n                  component=\"li\"\n                  sx={{ flex: { xs: \"100%\", sm: \"50%\", md: \"0 0 33%\" } }}\n                >\n                  <Link\n                    sx={{ display: \"block\" }}\n                    // href={`/${t(\"routes-city\")}/${slug}`}\n                    href={`/${t(\"routes-cheap-flights\")}  /${\n                      theFromLeftOver.combined_slug[locale as string] ||\n                      theFromLeftOver.combined_slug[\"en\"]\n                    }/${slug}/`}\n                    underline=\"hover\"\n                    color=\"inherit\"\n                  >\n                    {t(\"cheap-flights\")} {t(\"suggestions-from\")}{\" \"}\n                    {theFromLeftOver.name_translations[locale as string] ||\n                      theFromLeftOver.name_translations[\"en\"]}{\" \"}\n                    {t(\"flights-time-filter-to\")} {name}\n                  </Link>\n                </Box>\n              );\n            })}\n          </Box>\n        </Paper>\n        <Box sx={{ display: \"flex\", p: 1 }}>\n          {page !== 0 && (\n            <Link\n              href={`/${t(\"routes-cheap-flights\")}/${page - 1}`}\n              sx={{ color: \"inherit\" }}\n            >\n              Previous\n            </Link>\n          )}\n          {hasMore && (\n            <Link\n              href={`/${t(\"routes-cheap-flights\")}/${page + 1}`}\n              sx={{\n                display: \"flex\",\n                flex: 1,\n                justifyContent: \"end\",\n                color: \"inherit\",\n              }}\n            >\n              Next\n            </Link>\n          )}\n        </Box>\n      </Container>\n      <Footer />\n    </Box>\n  );\n};\n\nexport async function getStaticPaths() {\n  // TODO should we generate build time?\n  return {\n    paths: [],\n    fallback: true,\n  };\n}\n\nexport async function getStaticProps({\n  locale,\n  params,\n}: GetStaticPropsContext) {\n  const fromTo = require(\"../../../data/cheap-flights.json\");\n\n  const perPage = 250;\n\n  const page =\n    (Number.isInteger(Number(params?.cheapFlightFrom)) &&\n      Number(params?.cheapFlightFrom)) ||\n    0;\n\n  const indexFrom = Math.floor((page * perPage) / fromTo.length);\n\n  const theFrom = fromTo[indexFrom] || null;\n\n  const slicePart = page * perPage - indexFrom * fromTo.length;\n\n  if (!theFrom) {\n    return {\n      notFound: true,\n    };\n  }\n\n  const theTo =\n    theFrom &&\n    fromTo.slice(slicePart, slicePart + perPage).map((item: any) => ({\n      // Only fields I need for front\n      combined_slug: item.combined_slug,\n      slug_translations: item.slug_translations,\n      name_translations: item.name_translations,\n    }));\n\n  const theFromLeftOver =\n    slicePart + perPage > fromTo.length ? fromTo[indexFrom + 1] || null : null;\n\n  return {\n    props: {\n      totalPages: Math.floor(fromTo.length * fromTo.length),\n      theFrom,\n      theTo,\n      theFromLeftOver,\n      theToLeftOver: theFromLeftOver\n        ? fromTo\n            .slice(0, slicePart + perPage - fromTo.length)\n            .map((item: any) => ({\n              // Only fields I need for front\n              combined_slug: item.combined_slug,\n              slug_translations: item.slug_translations,\n              name_translations: item.name_translations,\n            }))\n        : [],\n      flightDestinations: fromTo\n        .slice(perPage * page, perPage * (page + 1))\n        .map((item: any) => ({\n          // Only fields I need for front\n          ...item.combined_slug,\n        })),\n\n      // You can get the messages from anywhere you like. The recommended\n      // pattern is to put them in JSON files separated by language and read\n      // the desired one based on the `locale` received from Next.js.\n      messages: (await import(`../../../messages/index/${locale || 'en'}.json`))\n        .default,\n    },\n  };\n}\n\nexport default CheapFlight;\n"],"names":["window","__NEXT_P","push","theFrom","theTo","theFromLeftOver","theToLeftOver","totalPages","theme","useTheme","t","useTranslations","useRouter","locale","query","page","useMemo","Number","cheapFlightFrom","hasMore","Math","floor","Box","sx","backgroundColor","palette","mode","Head","title","ResponsiveAppBar","Paper","variant","pb","borderLeft","borderRight","square","Typography","gutterBottom","textAlign","pt","SearchForm","maxWidth","showBooking","Container","py","p","component","display","flexWrap","listStyle","map","to","index","slug","combined_slug","name","name_translations","flex","xs","sm","md","Link","href","underline","color","justifyContent","Footer"],"sourceRoot":""}