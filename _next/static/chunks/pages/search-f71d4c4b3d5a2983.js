(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[29603],{60881:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return t(72523)}])},72523:function(e,r,t){"use strict";t.r(r),t.d(r,{EStopsFilterType:function(){return ce},__N_SSG:function(){return fe},default:function(){return Fe},firestoreAutoId:function(){return me},toArrayWithKey:function(){return ge}});var n=t(34051),i=t.n(n),s=t(85893),a=t(27948),l=t(87357),o=t(11163),c=t(58242),u=t(75110),d=t(34139),h=t.n(d),f=t(92876),g=t(12406),p=t(67294),x=t(80186),m=t(55113),v=t(82280),j=t(38895),b=t(15861),y=t(22797),Z=t(23508),_=t(83321),w=t(72890),k=t(50480),S=t(36872),F=t(81458),C=t(11703),I=t(40044),O=t(9008),A=t(60077),E=t(9099),T=t(88078),D=t(26447),N=t(65988),P=t.n(N),B=t(25675),L=t(19013),R=t(10668),M=t(93946),H=t(75503),W=t(90813),z=t(92585),q=t(90244),V=t(69649),U=t(67720),Y=t(87918),G=(0,t(5152).default)((function(){return t.e(22281).then(t.bind(t,22281))}),{loadableGenerated:{webpack:function(){return[22281]}}}),K=function(e){var r=e.isOpen,t=e.handleClose;return(0,s.jsx)(G,{isOpen:r,handleClose:t})};function J(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function X(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){J(e,r,t[r])}))}return e}var Q=function(){return(0,s.jsx)(l.Z,{className:"dot-seprator",sx:{mx:1,display:"inline-block"}})},$=function(e){var r,t=e.ticket,n=e.globalGates,i=e.globalAirlines,a=e.globalAirports,d=e.rates,h=e.searchId,f=e.handleOnBuy,g=(0,p.useRef)(),x=(0,c.Z)(),v=(0,u.Z)(),j=(0,R.F)(),y=(0,E.Og)().currency,Z=((0,o.useRouter)().push,(0,p.useState)(!1)),w=Z[0],k=Z[1];(0,p.useEffect)((function(){w&&g.current.scrollIntoView&&g.current.scrollIntoView()}),[w]);var S=(0,p.useMemo)((function(){return e=t.terms,Object.keys(e).map((function(r){return X({},e[r],{agent_id:r})})).sort((function(e,r){return e.unified_price-r.unified_price}));var e}),[t.terms,n,d]),F=(0,p.useMemo)((function(){return S.slice(0,1)[0]}),[S]),C=(0,p.useMemo)((function(){var e=[],r=[];return t.segment.forEach((function(t){var n=[],s=[],a=[];t.flight.forEach((function(t){var l=t.marketing_carrier||t.operating_carrier||t.operated_by;-1===n.indexOf(l)&&(n.push(l),s.push(X({},i[l],{_code:l})),a.push(i[l]&&i[l].name)),e.push(s),r.push(a)}))})),[e,r]}),[t.segment,i]),I=C[0],O=C[1],T=function(e,r,i){var s;if(e.preventDefault(),e.stopPropagation(),1337==r.agent_id)return window.open("/booking?offerId="+r.url);window.open(String(r.url).includes("http")?r.url:"https://flightscanner.com/redirect?searchId=".concat(i,"&termId=").concat(r.url,"&label=").concat(null===(s=n[r.agent_id])||void 0===s?void 0:s.label)),f(t,r)};return(0,s.jsxs)(m.Z,{ref:g,sx:{padding:2,cursor:"pointer",border:"1px solid transparent",borderColor:w?"primary.main":"transparent"},elevation:2,onClick:function(){k((function(e){return!e}))},children:[(0,s.jsxs)(D.Z,{direction:{xs:"column",sm:"row"},children:[(0,s.jsx)(D.Z,{spacing:1,direction:"column",sx:{flex:1,justifyContent:"center"},children:t.segment.map((function(e,r){var n=I[r];return(0,s.jsxs)(D.Z,{direction:"row",sx:{alignItems:"center"},spacing:1,children:[(0,s.jsxs)(l.Z,{sx:{flex:1},children:[(0,s.jsx)(l.Z,{sx:{},children:n.map((function(e){return(0,s.jsx)(B.default,{src:"https://images.kiwi.com/airlines/32/".concat(e._code,".png?default=airline.png"),alt:e.name,width:n.length>1?16:32,height:n.length>1?16:32},e._code)}))}),(0,s.jsx)(b.Z,{noWrap:!0,variant:"body2",sx:{display:{xs:"none",sm:"block"},maxWidth:100},children:O[r].join(", ")})]}),(0,s.jsxs)(l.Z,{sx:{flex:2},children:[(0,s.jsxs)(b.Z,{sx:{fontSize:{xs:14,sm:16},fontWeight:"bold"},gutterBottom:!0,children:[e.flight[0].departure_time," -"," ",e.flight[e.flight.length-1].arrival_time]}),(0,s.jsx)(b.Z,{sx:{fontSize:{xs:12,sm:14}},variant:"body2",children:x.formatDateTime((0,L.Z)(1e3*e.flight[0].local_departure_timestamp),{month:"short",day:"numeric",weekday:"short"})})]}),(0,s.jsxs)(l.Z,{sx:{flex:{xs:2,sm:3}},children:[(0,s.jsx)(b.Z,{sx:{fontSize:{xs:14,sm:16},fontWeight:"bold"},gutterBottom:!0,children:(0,A.nH)(60*t.segment_durations[r])}),(0,s.jsxs)(b.Z,{variant:"body2",sx:{fontSize:{xs:12,sm:14}},children:[(0,s.jsxs)(l.Z,{sx:{display:{xs:"none",sm:"inline-block"}},children:[a[e.flight[0].departure].city," (",e.flight[0].departure,")"]}),(0,s.jsx)(l.Z,{sx:{display:{xs:"inline-block",sm:"none"}},children:e.flight[0].departure}),e.flight.length-1===0&&(0,s.jsx)("svg",{style:{width:24,height:"1rem",verticalAlign:"middle",fill:"currentColor"},viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:(0,s.jsx)("path",{d:"M18.688 9.688c-.125 0-.25.063-.375.188-.25.25-.25.563 0 .813l.75.75H3.25v1.125h15.813l-.75.75c-.25.25-.25.563 0 .813.125.125.188.188.375.188a.57.57 0 0 0 .438-.188l1.563-1.625c.188-.125.188-.313.188-.5a.71.71 0 0 0-.188-.5l-1.563-1.625a.677.677 0 0 0-.438-.188v-.001z"})}),e.flight.length-1===1&&(0,s.jsx)("svg",{style:{width:24,height:"1rem",verticalAlign:"middle",fill:"currentColor"},viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:(0,s.jsx)("path",{d:"M18.688 9.688c-.125 0-.25.063-.375.188-.25.25-.25.563 0 .813l.75.75h-6.188a1.69 1.69 0 0 0-1.625-1.125c-.688 0-1.375.438-1.625 1.125H3.25v1.125h6.375c.25.688.938 1.125 1.625 1.125.75 0 1.375-.438 1.625-1.125h6.188l-.75.75c-.25.25-.25.563 0 .813.125.125.188.188.375.188a.57.57 0 0 0 .438-.188l1.563-1.625c.188-.125.188-.313.188-.5a.71.71 0 0 0-.188-.5l-1.563-1.625a.677.677 0 0 0-.438-.188v-.001z"})}),e.flight.length-1>1&&(0,s.jsx)("svg",{style:{width:24,height:"1rem",verticalAlign:"middle",fill:"currentColor"},viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:(0,s.jsx)("path",{d:"M18.439 10c-.125 0-.25.063-.375.188-.25.25-.25.563 0 .813l.75.75h-3c-.25-.688-.875-1.125-1.563-1.125-.75 0-1.375.438-1.625 1.125H9.688a1.69 1.69 0 0 0-1.625-1.125c-.688 0-1.313.438-1.563 1.125H3v1.125h3.5c.25.688.875 1.125 1.563 1.125.75 0 1.375-.438 1.625-1.125h2.938a1.69 1.69 0 0 0 1.625 1.125c.688 0 1.313-.438 1.563-1.125h3l-.75.75c-.25.25-.25.563 0 .813.125.125.188.188.375.188a.57.57 0 0 0 .438-.188l1.563-1.625c.188-.125.188-.313.188-.5a.71.71 0 0 0-.188-.5l-1.563-1.625a.677.677 0 0 0-.438-.188V10z"})}),(0,s.jsxs)(l.Z,{sx:{display:{xs:"none",sm:"inline-block"}},children:[a[e.flight[e.flight.length-1].arrival].city," ","(",e.flight[e.flight.length-1].arrival,")"]}),(0,s.jsx)(l.Z,{sx:{display:{xs:"inline-block",sm:"none"}},children:e.flight[e.flight.length-1].arrival})]})]})]},r)}))}),(0,s.jsx)(U.Z,{sx:{my:2,display:{xs:"hidden",sm:"block"}}}),(0,s.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[(0,s.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",ml:{xs:"24px"},mr:{xs:"16px"}},children:[(0,s.jsx)(b.Z,{variant:"h6",gutterBottom:!0,children:d&&y&&x.formatNumber(F.unified_price/d[y.code.toLowerCase()],{style:"currency",currency:y.code,maximumFractionDigits:0,minimumFractionDigits:0})}),(0,s.jsxs)(_.Z,{variant:"contained",sx:{width:160,flexDirection:"column"},onClick:function(e){T(e,F,h)},children:[(0,s.jsx)(b.Z,{children:v("search-results-book-now")}),(0,s.jsx)(b.Z,{children:F&&(null===(r=n[F.agent_id])||void 0===r?void 0:r.label)})]}),S.length>1&&(0,s.jsx)(b.Z,{variant:"body2",sx:{fontSize:{xs:12,sm:14},mt:1},children:v("search-results-more-proposals",{value:S.length-1})})]}),(0,s.jsx)(l.Z,{sx:{display:"flex",alignItems:"center"},children:(0,s.jsx)(M.Z,{"aria-label":"expand",children:w?(0,s.jsx)(W.Z,{}):(0,s.jsx)(H.Z,{})})})]})]}),w&&(0,s.jsx)(l.Z,{sx:{backgroundColor:"light"===j.palette.mode?"#F3F6F9":"inherit",margin:-2,padding:2,mt:2,borderBottomLeftRadius:3,borderBottomRightRadius:3},children:(0,s.jsxs)(D.Z,{spacing:1,children:[(0,s.jsx)(m.Z,{children:(0,s.jsxs)(l.Z,{sx:{p:2},children:[(0,s.jsxs)(b.Z,{sx:{fontSize:{xs:14,sm:16},fontWeight:"bold"},children:[(0,s.jsx)("span",{className:"jsx-aecd9023fdd9ca5",children:v("flights-departure")}),(0,s.jsx)(P(),{id:"aecd9023fdd9ca5",children:'.dot-seprator:before{content:"\\b7"}'}),(0,s.jsx)(l.Z,{className:"dot-seprator",sx:{mx:1,display:"inline-block"}}),(0,s.jsx)("span",{className:"jsx-aecd9023fdd9ca5",children:x.formatDateTime((0,L.Z)(1e3*t.segment[0].flight[0].local_departure_timestamp),{month:"short",day:"numeric",weekday:"short"})})]}),(0,s.jsxs)(b.Z,{sx:{fontSize:{xs:12,sm:14}},variant:"body2",children:[(0,A.nH)(60*t.segment_durations[0]),(0,s.jsx)(l.Z,{className:"dot-seprator",sx:{mx:1,display:"inline-block"}}),v("search-results-flight-details-stops",{value:t.segment[0].flight.length-1,value2:t.max_stops})]}),(0,s.jsx)(U.Z,{sx:{my:1}}),t.segment[0].flight.map((function(e,r){var n=e.marketing_carrier||e.operating_carrier||e.operated_by;return(0,s.jsx)(l.Z,{children:(0,s.jsxs)(l.Z,{component:"ul",sx:{fontSize:14,listStyle:"none",padding:0},children:[(0,s.jsx)(l.Z,{component:"li",sx:{mb:2},children:(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(z.Z,{sx:{display:{xs:"none",sm:"inline-block"},mr:2,verticalAlign:"middle"}}),(0,s.jsx)("strong",{children:e.departure_time}),(0,s.jsx)(Q,{}),a[e.departure].name,(0,s.jsxs)("strong",{children:[" ","(",e.departure,")"]})]})}),(0,s.jsxs)(l.Z,{component:"li",sx:{mb:2,paddingLeft:"28px",marginLeft:"12px",borderLeft:"1px solid grey"},children:[(0,s.jsx)(Y.Z,{label:(0,A.nH)(60*e.duration)}),(0,s.jsx)(Q,{}),(0,s.jsx)(l.Z,{sx:{verticalAlign:"middle",display:"inline-block"},children:(0,s.jsx)(l.Z,{sx:{verticalAlign:"middle",display:"inline-block"},children:(0,s.jsx)(B.default,{src:"https://images.kiwi.com/airlines/32/".concat(n,".png?default=airline.png"),alt:i[n].name,width:24,height:24},n)})}),(0,s.jsx)(l.Z,{component:"span",sx:{ml:1},children:i[n].name}),(0,s.jsx)(Q,{}),(0,s.jsx)("span",{children:v("search-results-flight-details-class",{value:e.trip_class})}),(0,s.jsx)(Q,{}),(0,s.jsx)("span",{children:e.aircraft}),(0,s.jsx)(Q,{}),(0,s.jsxs)("span",{children:[e.__airlineCode," ",e.number]})]}),(0,s.jsx)(l.Z,{component:"li",sx:{mb:2},children:(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(V.Z,{sx:{display:{xs:"none",sm:"inline-block"},mr:2,verticalAlign:"middle"}}),(0,s.jsx)("strong",{children:e.arrival_time}),(0,s.jsx)(Q,{}),"".concat(a[e.arrival].name," "),(0,s.jsxs)("strong",{children:["(",e.arrival,")"]})]})}),t.segment[0].flight[r+1]&&t.segment[0].flight.length!==r&&(0,s.jsxs)(l.Z,{sx:{my:4},children:[(0,s.jsx)(q.Z,{sx:{mr:2,verticalAlign:"middle"}}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{children:[(0,s.jsx)("strong",{children:(0,A.nH)(60*t.segment[0].flight[r+1].delay)})," "]}),v("search-results-flight-details-layover"),(0,s.jsx)(Q,{}),(0,s.jsxs)("span",{children:[a[e.arrival].city," ",(0,s.jsxs)("strong",{children:["(",e.arrival,")"]})]})]})]})]})},r)}))]})}),t.segment.length>1&&(0,s.jsx)(m.Z,{children:(0,s.jsxs)(l.Z,{sx:{p:2},children:[(0,s.jsxs)(b.Z,{sx:{fontSize:{xs:14,sm:16},fontWeight:"bold"},children:[(0,s.jsx)("span",{className:"jsx-45a8493907c0cd7b",children:v("flights-return")}),(0,s.jsx)(P(),{id:"45a8493907c0cd7b",children:'.dot-seprator:before{content:"\\b7"}'}),(0,s.jsx)(Q,{}),(0,s.jsx)("span",{className:"jsx-45a8493907c0cd7b",children:x.formatDateTime((0,L.Z)(1e3*t.segment[t.segment.length-1].flight[0].local_departure_timestamp),{month:"short",day:"numeric",weekday:"short"})})]}),(0,s.jsxs)(b.Z,{sx:{fontSize:{xs:12,sm:14}},variant:"body2",children:[(0,A.nH)(60*t.segment_durations[t.segment.length-1]),(0,s.jsx)(l.Z,{className:"dot-seprator",sx:{mx:1,display:"inline-block"}}),v("search-results-flight-details-stops",{value:t.segment[t.segment.length-1].flight.length-1,value2:t.max_stops})]}),(0,s.jsx)(U.Z,{sx:{my:1}}),t.segment[t.segment.length-1].flight.map((function(e,r){var n=e.marketing_carrier||e.operating_carrier||e.operated_by;return(0,s.jsxs)(l.Z,{children:[(0,s.jsxs)(l.Z,{component:"ul",sx:{fontSize:14,listStyle:"none",padding:0},children:[(0,s.jsx)(l.Z,{component:"li",sx:{mb:2},children:(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(z.Z,{sx:{display:{xs:"none",sm:"inline-block"},verticalAlign:"middle",mr:2}}),(0,s.jsx)("strong",{children:e.departure_time}),(0,s.jsx)(Q,{}),a[e.departure].name,(0,s.jsxs)("strong",{children:[" ","(",e.departure,")"]})]})}),(0,s.jsxs)(l.Z,{component:"li",sx:{mb:2,paddingLeft:"28px",marginLeft:"12px",borderLeft:"1px solid grey"},children:[(0,s.jsx)(Y.Z,{label:(0,A.nH)(60*e.duration)}),(0,s.jsx)(Q,{}),(0,s.jsx)(l.Z,{sx:{verticalAlign:"middle",display:"inline-block"},children:(0,s.jsx)(B.default,{src:"https://images.kiwi.com/airlines/32/".concat(n,".png?default=airline.png"),alt:i[n].name,width:24,height:24},n)}),(0,s.jsx)(l.Z,{component:"span",sx:{ml:1},children:i[n].name}),(0,s.jsx)(Q,{}),(0,s.jsx)("span",{children:v("search-results-flight-details-class",{value:e.trip_class})}),(0,s.jsx)(Q,{}),(0,s.jsx)("span",{children:e.aircraft}),(0,s.jsx)(Q,{}),(0,s.jsxs)("span",{children:[n," ",e.number]})]}),(0,s.jsx)(l.Z,{component:"li",sx:{mb:2},children:(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(V.Z,{sx:{display:{xs:"none",sm:"inline-block"},mr:2,verticalAlign:"middle"}}),(0,s.jsx)("strong",{children:e.arrival_time}),(0,s.jsx)(Q,{}),"".concat(a[e.arrival].name," "),(0,s.jsxs)("strong",{children:["(",e.arrival,")"]})]})})]}),t.segment[t.segment.length-1].flight[r+1]&&t.segment[t.segment.length-1].flight.length!==r&&(0,s.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",my:4},children:[(0,s.jsx)(q.Z,{sx:{mr:2}}),(0,s.jsx)(Y.Z,{label:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{children:[(0,s.jsx)("strong",{children:(0,A.nH)(60*t.segment[t.segment.length-1].flight[r+1].delay)})," "]}),v("search-results-flight-details-layover"),(0,s.jsx)(Q,{}),(0,s.jsxs)("span",{children:[a[e.arrival].city," ",(0,s.jsxs)("strong",{children:["(",e.arrival,")"]})]})]})})]})]},r)}))]})}),(0,s.jsx)(m.Z,{children:(0,s.jsxs)(l.Z,{sx:{p:2},children:[(0,s.jsx)(b.Z,{sx:{fontSize:{xs:14,sm:16},fontWeight:"bold"},children:v("search-results-flight-details-booking-options")}),(0,s.jsx)(b.Z,{sx:{fontSize:{xs:12,sm:14}},variant:"body2",children:v("search-results-flight-details-booking-options-sort")}),(0,s.jsx)(U.Z,{sx:{mt:1,mb:2}}),(0,s.jsx)(D.Z,{direction:"column",divider:(0,s.jsx)(U.Z,{}),spacing:1,children:S.map((function(e,r){var t;return(0,s.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("div",{children:n&&(null===(t=n[e.agent_id])||void 0===t?void 0:t.label)}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b.Z,{sx:{display:"inline-block",mr:2},children:d&&y&&x.formatNumber(e.unified_price/d[y.code.toLowerCase()],{style:"currency",currency:y.code,maximumFractionDigits:0,minimumFractionDigits:0})}),(0,s.jsx)(_.Z,{variant:"contained",sx:{},onClick:function(r){T(r,e,h)},children:(0,s.jsx)(b.Z,{children:v("search-results-book-select")})})]})]},r)}))})]})})]})})]})},ee=function(e){var r=e.proposals,t=e.limit,n=void 0===t?10:t,i=e.globalAirlines,a=e.globalAirports,l=e.globalGates,o=e.rates,c=e.searchId,u=e.gclid,d=e.subId,g=(0,p.useState)(!1),x=g[0],m=g[1],v=(0,p.useRef)(new AbortController),j=(0,p.useRef)(v.current&&v.current.signal);(0,p.useEffect)((function(){return function(){v.current&&v.current.abort()}}),[]);var b=(0,p.useCallback)((function(e,r){m(!0),h()(fetch)("/api/click",X({body:JSON.stringify({subId:d,gclid:u,ticket:X({},e,{_selected_agent:r.agent_id})}),method:"POST",headers:{"Content-Type":"application/json"},signal:j.current||null},A.uH)).catch((function(e){"AbortError"!==(null===e||void 0===e?void 0:e.name)&&(0,f.Tb)(e)}))}),[]),y=(0,p.useCallback)((function(){return m(!1)}),[]);return(0,s.jsxs)(D.Z,{spacing:2,children:[null===r||void 0===r?void 0:r.slice(0,n).map((function(e,r){return(0,s.jsx)($,{ticket:e,globalAirlines:i,globalAirports:a,globalGates:l,rates:o,searchId:c,handleOnBuy:b},r)})),(0,s.jsx)(K,{isOpen:x,handleClose:y})]})},re=t(9411),te=t(77533),ne=t(60487);function ie(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function se(e,r,t,n,i,s,a){try{var l=e[s](a),o=l.value}catch(c){return void t(c)}l.done?r(o):Promise.resolve(o).then(n,i)}function ae(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function le(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){ae(e,r,t[r])}))}return e}function oe(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return ie(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ie(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ce,ue=t(72378),de=t(23362),he=t(82555),fe=!0,ge=function(e,r){var t=[];for(var n in e)t.push(le(ae({},r,n),e[n]));return t};!function(e){e[e.ANY=0]="ANY",e[e.NON_STOP=1]="NON_STOP",e[e.ONE_STOP=2]="ONE_STOP",e[e.TWO_STOP=3]="TWO_STOP"}(ce||(ce={}));var pe=function(e,r){return h()(fetch)("https://apiv2.flightscanner.com/flights-search-results?uuid=".concat(e),le({signal:r},A.uH)).then((function(e){return e.json()})).catch((function(e){"AbortError"!==(null===e||void 0===e?void 0:e.name)&&(0,f.Tb)(e)}))},xe=function(e,r){var t,n,i,s,a,l=[];(t=l).push.apply(t,oe(Array.from({length:Number(e.adults||1)},(function(e,r){return{type:"adult"}})))),(n=l).push.apply(n,oe(Array.from({length:Number(e.children||0)},(function(e,r){return{age:2}})))),(i=l).push.apply(i,oe(Array.from({length:Number(e.infants||0)},(function(e,r){return{age:2}}))));var o,c,u=[{origin:null===(s=e.from)||void 0===s?void 0:s.split(":")[0],destination:null===(a=e.to)||void 0===a?void 0:a.split(":")[0],departure_date:new Date(e.departureDate).toISOString().split("T")[0]}];e.returnDate&&"none"!==e.returnDate&&u.push({origin:null===(o=e.to)||void 0===o?void 0:o.split(":")[0],destination:null===(c=e.from)||void 0===c?void 0:c.split(":")[0],departure_date:new Date(e.returnDate).toISOString().split("T")[0]});return h()(fetch)("/api/search",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({slices:u,passengers:l}),signal:r}).then((function(e){return e.json()})).catch((function(e){"AbortError"!==(null===e||void 0===e?void 0:e.name)&&(0,f.Tb)(e)}))},me=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r="",t=0;t<20;t++)r+=e.charAt(Math.floor(Math.random()*e.length));return r},ve=function(e,r,t,n){return"".concat(e.toUpperCase(),"_").concat(r.toUpperCase(),"_").concat(t,"_").concat(n)},je=function(e){return e.join("|")},be=function(e){var r=e[A._B.BEST][0],t=e[A._B.CHEAP][0],n=e[A._B.QUICK][0];return{best:{amount:r&&(0,A.WX)(r.terms)[0].unified_price||0,duration:r&&r.total_duration||0},cheap:{amount:t&&(0,A.WX)(t.terms)[0].unified_price||0,duration:t&&t.total_duration||0},quick:{amount:n&&(0,A.WX)(n.terms)[0].unified_price||0,duration:n&&n.total_duration||0}}},ye={airports:[],airlines:[],gates:[],searchId:void 0,searchComplete:!1,limit:10,rates:void 0,filteredFlightsCount:0,sortedFlightsInfo:void 0,filtersBoundaries:le({},{price:[0,0],duration:[0,0],times:[[[],[]],[[],[]]],airlines:[],gates:[]}),flightSortBy:A._B.BEST,flightsFilters:{stop:ce.ANY,duration:[0,0],price:[0,0],times:[],airlines:[],gates:[]},proposals:[],allProposalsLength:0,subId:void 0,gclid:void 0};function Ze(e,r){switch(r.type){case"setVisibleProposals":return le({},e,{proposals:r.proposals,filteredFlightsCount:r.filteredFlights.length,sortedFlightsInfo:r.sortedFlightsInfo,airports:r.airports?le({},ue(e.airports,r.airports)):e.airports,gates:r.gates?le({},ue(e.gates,r.gates)):e.gates,airlines:r.airlines?le({},ue(e.airlines,r.airlines)):e.airlines,flightSortBy:r.sortBy,flightsFilters:r.flightsFilters?r.flightsFilters:e.flightsFilters,allProposalsLength:r.allProposalsLength});case"setSearchId":return le({},e,{searchId:r.searchId,rates:r.rates,subId:r.subId,gclid:r.gclid});case"searchComplete":return le({},e,{searchComplete:!0});case"resetSearch":return le({},e,ye);case"loadMore":return le({},e,{limit:e.limit+10});case"setFiltersBoundaries":return le({},e,{filtersBoundaries:r.filtersBoundaries});default:throw new Error}}var _e=function(e){var r=e.state,t=e.onDurationChange,n=void 0===t?function(){}:t,i=(0,p.useState)([]),a=i[0],l=i[1];return(0,p.useEffect)((function(){a&&0===r.flightsFilters.duration[0]&&0===r.flightsFilters.duration[1]&&l([])}),[r.flightsFilters.duration]),(0,s.jsx)(re.ZP,{getAriaLabel:function(){return"Duration range"},min:r.filtersBoundaries.duration[0],max:r.filtersBoundaries.duration[1],valueLabelFormat:function(e){return(0,A.nH)(60*e)},marks:[{value:r.filtersBoundaries.duration[0],label:(0,A.nH)(60*r.filtersBoundaries.duration[0])},{value:r.filtersBoundaries.duration[1],label:(0,A.nH)(60*r.filtersBoundaries.duration[1])}],value:[a[0]||r.flightsFilters.duration[0],a[1]||r.flightsFilters.duration[0]||r.filtersBoundaries.duration[1]],onChange:function(e){l(e.target.value)},onChangeCommitted:function(e){n(a)},valueLabelDisplay:"auto",getAriaValueText:function(e){return"".concat(e,"c")}})},we=function(e){var r=e.state,t=e.onPriceChange,n=void 0===t?function(){}:t,i=e.currency,a=(0,c.Z)(),l=(0,p.useState)([]),o=l[0],u=l[1];(0,p.useEffect)((function(){o&&0===r.flightsFilters.price[0]&&0===r.flightsFilters.price[1]&&u([])}),[r.flightsFilters.price]);var d=function(e){return a.formatNumber(e/r.rates[i.code.toLowerCase()],{style:"currency",currency:i.code,maximumFractionDigits:0,minimumFractionDigits:0})};return i&&(null===r||void 0===r?void 0:r.rates)?(0,s.jsx)(re.ZP,{getAriaLabel:function(){return"Price range"},min:r.filtersBoundaries.price[0],max:r.filtersBoundaries.price[1],valueLabelFormat:function(e){return d(e)},marks:[{value:r.filtersBoundaries.price[0],label:d(r.filtersBoundaries.price[0])},{value:r.filtersBoundaries.price[1],label:d(r.filtersBoundaries.price[1])}],value:[o[0]||r.flightsFilters.price[0],o[1]||r.flightsFilters.price[0]||r.filtersBoundaries.price[1]],onChange:function(e){u(e.target.value)},onChangeCommitted:function(e){n(o)},valueLabelDisplay:"auto",getAriaValueText:function(e){return"".concat(e,"c")}}):null},ke=function(e){var r=e.state,t=e._allProposals,n=e.handleFilter,i=e.resetFilters,a=e.currency,o=(0,u.Z)(),c=(0,p.useState)(!1),d=c[0],h=c[1];return 0===r.allProposalsLength?(0,s.jsx)(l.Z,{sx:{mb:2},children:(0,s.jsx)(T.Z,{variant:"rectangular",width:"100%",height:56})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.Z,{sx:{display:{xs:"flex",md:"none"},justifyContent:"space-between",alignItems:"center",pb:2},children:[(0,s.jsx)(b.Z,{children:o("filters-flights-count",{value:r.filteredFlightsCount,value2:t.current.length})}),(0,s.jsx)(_.Z,{variant:"contained",disableElevation:!0,size:"small",onClick:function(){h(!0),(0,A.L9)({action:"MobileFiltersToggle",label:"open"})},children:o("filters")})]}),(0,s.jsx)(te.ZP,{anchor:"bottom",open:d,onClose:function(){h(!1),(0,A.L9)({action:"MobileFiltersToggle",label:"close"})},children:(0,s.jsxs)(l.Z,{sx:{p:1},children:[(0,s.jsx)(Se,{state:r,handleFilter:n,currency:a,resetFilters:i,defaultExpanded:!1}),(0,s.jsx)(_.Z,{variant:"contained",disableElevation:!0,sx:{mt:1,width:"100%"},onClick:function(){h(!1)},children:o("misc-apply")})]})})]})},Se=function(e){var r=e.state,t=e.handleFilter,n=e.currency,i=e.resetFilters,a=e.defaultExpanded,l=void 0===a||a,o=(0,u.Z)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(v.Z,{defaultExpanded:l,elevation:2,children:[(0,s.jsx)(j.Z,{expandIcon:(0,s.jsx)(Z.Z,{}),"aria-controls":o("filters-stops"),children:(0,s.jsx)(b.Z,{children:o("filters-stops")})}),(0,s.jsx)(y.Z,{children:(0,s.jsxs)(w.Z,{"aria-labelledby":"",defaultValue:ce.ANY,name:"",value:r.flightsFilters.stop,onChange:function(e){return t("stop",e.target.value)},children:[(0,s.jsx)(k.Z,{value:ce.ANY,control:(0,s.jsx)(S.Z,{}),label:o("filters-stops-any")}),(0,s.jsx)(k.Z,{value:ce.NON_STOP,control:(0,s.jsx)(S.Z,{}),label:o("filters-stops-non-stop")}),(0,s.jsx)(k.Z,{value:ce.ONE_STOP,control:(0,s.jsx)(S.Z,{}),label:o("filters-stops-one-stop")}),(0,s.jsx)(k.Z,{value:ce.TWO_STOP,control:(0,s.jsx)(S.Z,{}),label:o("filters-stops-two-stop")})]})})]}),(0,s.jsxs)(v.Z,{defaultExpanded:l,children:[(0,s.jsx)(j.Z,{expandIcon:(0,s.jsx)(Z.Z,{}),"aria-controls":o("filters-duration"),children:(0,s.jsx)(b.Z,{children:o("filters-duration")})}),(0,s.jsx)(y.Z,{sx:{px:5},children:(0,s.jsx)(_e,{state:r,onDurationChange:function(e){t("duration",e)}})})]}),(0,s.jsxs)(v.Z,{defaultExpanded:l,children:[(0,s.jsx)(j.Z,{expandIcon:(0,s.jsx)(Z.Z,{}),"aria-controls":o("filters-price"),children:(0,s.jsx)(b.Z,{children:o("filters-price")})}),(0,s.jsx)(y.Z,{sx:{px:5},children:(0,s.jsx)(we,{state:r,currency:n,onPriceChange:function(e){t("price",e)}})})]}),(0,s.jsx)(_.Z,{variant:"contained",disableElevation:!0,sx:{mt:2,width:"100%"},onClick:i,children:o("search-results-reset-filter-btn")})]})},Fe=function(){var e,r,t,n,d=(0,c.Z)(),v=(0,u.Z)(),j=(0,R.F)(),y=(0,o.useRouter)(),Z=y.query,w=y.locale,k=(0,E.Og)().currency,S=(0,p.useReducer)(Ze,ye),N=S[0],P=S[1],B=(0,p.useRef)(),L=(0,p.useRef)(),M=(0,p.useRef)(),H=(0,p.useRef)(),W=(0,p.useRef)([]),z=(0,p.useRef)({}),q=(0,p.useRef)([]),V=(0,p.useRef)([]),U=(0,p.useRef)(new AbortController),Y=(0,p.useRef)(new AbortController),G=(0,p.useRef)(new AbortController),K=(0,p.useRef)(U.current&&U.current.signal),J=(0,p.useRef)(Y.current&&Y.current.signal),X=(0,p.useRef)(G.current&&G.current.signal),Q=(0,p.useRef)(ye.flightSortBy),$=(0,p.useRef)(le({},ye.flightsFilters)),re=function(e,r){(function(e,r,t){var n,i,s={fly_from:null===(n=e.from)||void 0===n?void 0:n.split(":")[0],fly_to:null===(i=e.to)||void 0===i?void 0:i.split(":")[0],date_from:new Date(e.departureDate).toISOString().split("T")[0],date_to:new Date(e.departureDate).toISOString().split("T")[0],adults:Number(e.adults||1),children:Number(e.children||0),infants:Number(e.infants||0),vehicle_type:"aircraft",curr:r};return e.tripClass===x.UK.business&&(s.selected_cabins="C",s.mix_with_cabins="W"),e.returnDate&&"none"!==e.returnDate&&(s.return_from=new Date(e.returnDate).toISOString().split("T")[0],s.return_to=new Date(e.returnDate).toISOString().split("T")[0]),h()(fetch)("".concat("https://tequila-api.kiwi.com","/v2/search?")+Object.keys(s).map((function(e){return e+"="+s[e]})).join("&"),le({headers:{apiKey:"qdPPeM7rVEsWDhJ2kCIbnZmPs1jAGxxr"},signal:t},A.uH)).then((function(e){return e.json()})).catch((function(e){"AbortError"!==(null===e||void 0===e?void 0:e.name)&&(0,f.Tb)(e)}))})(e,r,J.current).then((function(e){L.current=e})).catch((function(e){"AbortError"!==(null===e||void 0===e?void 0:e.name)&&(0,f.Tb)(e)}))},te=function(){var e,r=(e=i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xe(r,X.current).then((function(e){M.current=e})).catch((function(e){"AbortError"!==(null===e||void 0===e?void 0:e.name)&&(0,f.Tb)(e)}));case 1:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(n,i){var s=e.apply(r,t);function a(e){se(s,n,i,a,l,"next",e)}function l(e){se(s,n,i,a,l,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}(),ie=(0,p.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.gates,t=void 0===r?{}:r,n=e.airlines,i=void 0===n?{}:n,s=e.airports,a=void 0===s?{}:s,l=Q.current,o=$.current,c=(0,A.qd)(q.current,o),u=(0,A.Up)(c),d=be(u),h=u[l];P({type:"setVisibleProposals",proposals:h,filteredFlights:c,sortedFlightsInfo:d,gates:t,airlines:i,airports:a,sortBy:l,flightsFilters:o,allProposalsLength:q.current.length})}),[]),oe=(0,p.useCallback)((function(e){if(null===e||void 0===e?void 0:e.data){e.data.forEach((function(e){var r=[],t=e.deep_link,n={203:{currency:"rub",agent_id:203,price:e.price,unified_price:e.price,url:t}};e.route.forEach((function(e){var t=e.airline.length?e.airline:e.operating_carrier,n=ve(e.flyFrom,e.flyTo,t,e.flight_no);r.push(n)}));var i=je(r),s=z.current[i];q.current[s]=le({},ue(q.current[s],{terms:n}))})),ie({gates:{203:{average_rate:5,currency_code:"usd",email:"support.ru@kiwi.com",helplink:"https://www.kiwi.com/ru/helpcenter",is_airline:!1,is_exclusive:"true",label:"Kiwi.com",mobile_version:"true",payment_methods:["card"],phone:["+7 (499) 348 80 53"],productivity:0,rates:2967,show_feedback_popup:!0,site:"https://www.kiwi.com/ru/",working_hours:"\u041a\u0440\u0443\u0433\u043b\u043e\u0441\u0443\u0442\u043e\u0447\u043d\u043e",is_kiwi:!0}}})}}),[ie,k.code,N.rates]),ce=(0,p.useCallback)((function(e){Array.prototype.push.apply(W.current,e);var r={},t={},n={};W.current.forEach((function(e){r=le({},ue(r,e.airports)),t=le({},ue(t,e.airlines)),n=le({},ue(n,e.gates_info)),e.filters_boundary&&(V.current.push(e.filters_boundary),Ce()),e.proposals.forEach((function(e){if(e.flightScannerId=[],e.segment.map((function(r){return r.flight.map((function(r){var t=ve(r.departure,r.arrival,r.marketing_carrier||r.operating_carrier,r.number);return r.flightScannerId=t,e.flightScannerId.push(t),r}))})),e.flightScannerId=je(e.flightScannerId),z.current[e.flightScannerId]){var r=z.current[e.flightScannerId],t=["112","132","362","108"],n=le({},e.terms);if(t.forEach((function(e){delete n[e]})),Object.keys(n).length>0){var i=le({},q.current[r].terms);t.forEach((function(e){delete i[e]})),q.current[r].terms=le({},i),q.current[r]=le({},ue(q.current[r],{terms:n}))}}else{var s=q.current.push(le({},e,{terms:e.terms}));z.current[e.flightScannerId]=s-1}}))})),ie({gates:n,airlines:t,airports:r})}),[ie]),fe=function(){H.current&&clearTimeout(H.current)},_e=(0,p.useCallback)((function(){L.current&&oe(L.current),M.current&&(M.current.data.offers.forEach((function(e){var r=[],t=N.rates[e.total_currency.toLowerCase()],n=t>1?e.total_amount*t:e.currRate/t,i={1337:{currency:"rub",agent_id:1337,price:n,unified_price:n,url:e.id}};e.slices.forEach((function(e){e.segments.forEach((function(e){var t=e.marketing_carrier.iata_code||e.operating_carrier.iata_code,n=ve(e.origin.iata_code,e.destination.iata_code,t,e.marketing_carrier_flight_number);r.push(n)}))}));var s=je(r),a=z.current[s];q.current[a]=le({},ue(q.current[a],{terms:i}))})),ie({gates:{1337:{currency_code:"usd",is_airline:!1,label:"Flightscanner"}}})),P({type:"searchComplete"})}),[oe]),we=(0,p.useCallback)((function(e,r){if(null===e||void 0===e?void 0:e.length){var t=e&&e[e.length-1],n=1===Object.keys(t).length;ce(n?e.slice(0,e.length-1):e),n?_e():H.current=setTimeout((function(){fe(),pe(r,K.current).then((function(e){we(e,r)})).catch((function(e){"AbortError"!==(null===e||void 0===e?void 0:e.name)&&(0,f.Tb)(e)}))}),3e3)}}),[_e,ce]);(0,p.useEffect)((function(){var e=new AbortController,r=e.signal;if((null===Z||void 0===Z?void 0:Z.tripClass)===x.UK.first)te(Z);else{if((null===Z||void 0===Z?void 0:Z.from)&&!N.searchId&&!B.current){var t,n,i,s,a={trip_class:Z.tripClass||x.UK.economy,passengers:{adults:Number(Z.adults||1),children:Number(Z.children||0),infants:Number(Z.infants||0)},segments:[{origin:null===(t=Z.from)||void 0===t?void 0:t.split(":")[0],destination:null===(n=Z.to)||void 0===n?void 0:n.split(":")[0],date:new Date(Z.departureDate).toISOString().split("T")[0]}]};if(Z.returnDate&&"none"!==Z.returnDate)a.segments.push({origin:null===(i=Z.to)||void 0===i?void 0:i.split(":")[0],destination:null===(s=Z.from)||void 0===s?void 0:s.split(":")[0],date:new Date(Z.returnDate).toISOString().split("T")[0]});var l=function(e,r,t,n){var i=me(),s={marker:"".concat("56123",".").concat(i),host:"www.flightscanner.com",user_ip:"127.0.0.1",locale:r,trip_class:e.trip_class,passengers:e.passengers,segments:e.segments};return t&&(s.currency=t),{url:"https://apiv2.flightscanner.com/flights-search",body:le({},s,{signature:(0,A.Hl)(JSON.parse(JSON.stringify(s)),"ff9339822cba2aeabedc70c12c502728")}),subId:i,gclid:n}}(a,w,k.code,Z.gclid),o=l.url,c=l.body,u=l.subId,d=l.gclid;return h()(fetch)(o,le({body:JSON.stringify(c),method:"POST",headers:{"Content-Type":"application/json"},signal:r},A.uH)).then((function(e){return e.json()})).then((function(e){P({type:"setSearchId",searchId:e.search_id,rates:e.currency_rates,subId:u,gclid:d})})).catch((function(e){"AbortError"!==(null===e||void 0===e?void 0:e.name)&&(0,f.Tb)(e)})),re(Z,"rub"),function(){null===e||void 0===e||e.abort()}}(null===Z||void 0===Z?void 0:Z.from)&&N.searchId&&!B.current?B.current=!0:(null===Z||void 0===Z?void 0:Z.from)&&N.searchId&&B.current&&(null===e||void 0===e||e.abort(),P({type:"resetSearch"}),q.current=[],z.current={},W.current=[],V.current=[],L.current=void 0,B.current=!1,fe())}}),[Z,w,k,N.searchId]),(0,p.useEffect)((function(){N.searchId&&pe(N.searchId,K.current).then((function(e){we(e,N.searchId)})).catch((function(e){"AbortError"!==(null===e||void 0===e?void 0:e.name)&&(0,f.Tb)(e)}))}),[N.searchId,we]);var Fe=function(e,r){$.current=le({},N.flightsFilters,ae({},e,r)),ie(),(0,A.L9)({action:"handleFilter",category:e,label:String(r)})},Ce=function(){var e=Math.ceil(1.1*de(V.current,(function(e){return e.price.max})).price.max),r=Math.floor(he(V.current,(function(e){return e.price.min})).price.min),t=Math.ceil(1.1*de(V.current,(function(e){return e.flights_duration.max})).flights_duration.max),n=Math.floor(he(V.current,(function(e){return e.flights_duration.min})).flights_duration.min),i=ge(N.airlines,"_code"),s=ge(N.gates,"_code");P({type:"setFiltersBoundaries",filtersBoundaries:le({},N.filtersBoundaries,{price:[r,e],duration:[n,t],times:[],airlines:i,gates:s})})},Ie=function(){$.current=le({},ye.flightsFilters),ie(),(0,A.L9)({action:"resetFilters"})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.Z,{sx:{pb:2,backgroundColor:"light"===j.palette.mode?"#F3F6F9":"inherit"},children:[(0,s.jsx)(O.default,{children:(0,s.jsx)("title",{children:v("seo-search-page-title")})}),(0,s.jsx)(g.Z,{}),(0,s.jsx)(m.Z,{variant:"light"===j.palette.mode?"outlined":"elevation",sx:{pb:2,borderLeft:"none",borderRight:"none"},square:!0,children:(0,s.jsx)(x.ZP,{maxWidth:"lg",showBooking:!1,rates:N.rates})}),(0,s.jsx)(a.Z,{maxWidth:"lg",sx:{py:2},children:(0,s.jsxs)(l.Z,{sx:{display:"flex"},children:[(0,s.jsx)(l.Z,{sx:{width:"268px",display:{xs:"none",md:"block"},mr:2},children:N.allProposalsLength>0?(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(b.Z,{gutterBottom:!0,children:v("filters-flights-count",{value:N.filteredFlightsCount,value2:q.current.length})}),(0,s.jsx)(Se,{state:N,handleFilter:Fe,currency:k,resetFilters:Ie})]}):(0,s.jsxs)(D.Z,{spacing:2,children:[(0,s.jsx)(T.Z,{variant:"rectangular",width:"100%",height:160}),(0,s.jsx)(T.Z,{variant:"rectangular",width:"100%",height:160}),(0,s.jsx)(T.Z,{variant:"rectangular",width:"100%",height:160})]})}),(0,s.jsxs)(l.Z,{sx:{flex:1},children:[(0,s.jsx)(ke,{state:N,_allProposals:q,handleFilter:Fe,resetFilters:Ie,currency:k}),!N.searchComplete&&(0,s.jsxs)(m.Z,{sx:{p:2,mb:2},elevation:2,children:[(0,s.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,s.jsx)(b.Z,{sx:{mb:1},children:v("search-for-flights")}),q.current.length>1&&(0,s.jsxs)(b.Z,{children:[q.current.length," ",v("flights")]})]}),(0,s.jsx)(F.Z,{})]}),N.allProposalsLength>0&&N.sortedFlightsInfo?(0,s.jsx)(m.Z,{children:(0,s.jsxs)(C.Z,{value:N.flightSortBy,onChange:function(e,r){return t=r,Q.current=t,ie({sortBy:t}),void(0,A.L9)({action:"onSortingChange",label:String(t)});var t},textColor:"inherit",variant:"fullWidth",sx:{mb:2},children:[(0,s.jsx)(I.Z,{label:(0,s.jsxs)(l.Z,{sx:{alignItems:"start"},children:[(0,s.jsx)(b.Z,{children:v("flights-sorting-tabs-best")}),(0,s.jsxs)(b.Z,{children:[N.rates&&k&&d.formatNumber(N.sortedFlightsInfo.best.amount/N.rates[k.code.toLowerCase()],{style:"currency",currency:k.code,maximumFractionDigits:0,minimumFractionDigits:0})," ","\xb7"," ",(0,A.nH)(60*(null===(e=N.sortedFlightsInfo)||void 0===e?void 0:e.best.duration))]})]})}),(0,s.jsx)(I.Z,{label:(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(b.Z,{children:v("flights-sorting-tabs-cheap")}),(0,s.jsxs)(b.Z,{children:[N.rates&&k&&d.formatNumber(N.sortedFlightsInfo.cheap.amount/N.rates[k.code.toLowerCase()],{style:"currency",currency:k.code,maximumFractionDigits:0,minimumFractionDigits:0})," ","\xb7"," ",(0,A.nH)(60*(null===(r=N.sortedFlightsInfo)||void 0===r?void 0:r.cheap.duration))]})]})}),(0,s.jsx)(I.Z,{label:(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(b.Z,{children:v("flights-sorting-tabs-quick")}),(0,s.jsxs)(b.Z,{children:[N.rates&&k&&d.formatNumber(N.sortedFlightsInfo.quick.amount/N.rates[k.code.toLowerCase()],{style:"currency",currency:k.code,maximumFractionDigits:0,minimumFractionDigits:0})," ","\xb7"," ",(0,A.nH)(60*(null===(t=N.sortedFlightsInfo)||void 0===t?void 0:t.quick.duration))]})]})})]})}):(0,s.jsxs)(D.Z,{spacing:2,direction:"row",sx:{mb:2},children:[(0,s.jsx)(T.Z,{variant:"rectangular",sx:{flex:1},height:90}),(0,s.jsx)(T.Z,{variant:"rectangular",sx:{flex:1},height:90}),(0,s.jsx)(T.Z,{variant:"rectangular",sx:{flex:1},height:90})]}),N.allProposalsLength>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ee,{proposals:N.proposals,limit:N.limit,globalAirlines:N.airlines,globalAirports:N.airports,globalGates:N.gates,rates:N.rates,searchId:N.searchId,subId:N.subId,gclid:N.gclid}),0===N.proposals.length&&(0,s.jsxs)(m.Z,{sx:{p:2,textAlign:"center"},children:[(0,s.jsx)(b.Z,{children:v("search-results-reset-filter")}),(0,s.jsx)(_.Z,{variant:"contained",disableElevation:!0,sx:{mt:2,width:"100%"},onClick:Ie,children:v("search-results-reset-filter-btn")})]})]}):(0,s.jsxs)(D.Z,{spacing:2,children:[(0,s.jsx)(T.Z,{variant:"rectangular",height:160}),(0,s.jsx)(T.Z,{variant:"rectangular",height:160}),(0,s.jsx)(T.Z,{variant:"rectangular",height:160})]}),(null===(n=N.proposals)||void 0===n?void 0:n.length)>N.limit&&(0,s.jsx)(_.Z,{variant:"contained",disableElevation:!0,sx:{mt:2,width:"100%"},onClick:function(){P({type:"loadMore"}),(0,A.L9)({action:"handleLoadMore"})},children:v("load-more")})]})]})})]}),(0,s.jsx)(ne.$,{})]})}}},function(e){e.O(0,[76523,37296,80990,27133,37674,4951,25675,65988,54699,12406,53557,49774,92888,40179],(function(){return r=60881,e(e.s=r);var r}));var r=e.O();_N_E=r}]);
//# sourceMappingURL=search-f71d4c4b3d5a2983.js.map